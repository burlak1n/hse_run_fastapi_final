#!/usr/bin/env python3
import os
from badge import BadgeGenerator
import transliterate

def transliterate_name(name):
    """Транслитерация имени для названия файла"""
    translit_name = transliterate.translit(name, 'ru', reversed=True)
    # Заменяем пробелы на подчеркивания и убираем спецсимволы
    translit_name = translit_name.replace(' ', '_').replace('ё', 'e')
    return translit_name

def ensure_directory_exists(directory):
    """Создает директорию, если она не существует"""
    if not os.path.exists(directory):
        os.makedirs(directory)

def main():
    # Создаем директории для файлов
    output_dir = "img"
    ensure_directory_exists(output_dir)
    
    # Список людей и их должностей
    people = [
        # ("Джамал Абакаров", "Организатор"),
        # ("Вероника Азарова", "Главпиар"),
        # ("Маргарита Амреева", "Партнерка"),
        # ("Влад Баникевич", "Организатор"),
        # ("Лера Белкина", "Координатор"),
        # ("Даниил Бенца", "Медиа"),
        # ("Марина Богданова", "Главкреатив"),
        # ("Герман Блуйшвили", "Медиа"),
        # ("Милана Будай", "МЗ"),
        # ("Яна Будилович", "Организатор"),
        # ("Кирилл Буравков", "Организатор"),
        # ("Аксён Васильев", "Дизайнер"),
        # ("Настя Великодная", "Главкреатив"),
        ("Алиса Владимирцева", "Медиа"),
        # ("Джульетта Голдовская", "Организатор"),
        # ("Катя Григорьева", "Медиа"),
        # ("Неля Губейдулова", "Главпрограмма"),
        # ("Никита Гутенев", "Техдир"),
        # ("Дарья Доброхотова", "Организатор"),
        # ("Саша Евтеева", "Эйчар"),
        # ("Екатерина Ежова", "Спецпроекты"),
        # ("Егор Ефремов", "Дизайнер креатива"),
        # ("Елизавета Иваниченко", "Контент-креатор"),
        # ("Наталия Клепикова", "Организатор"),
        # ("Александр Климов", "Организатор"),
        # ("Владислав Коротаев", "Организатор"),
        # ("Артëм Костылев", "Организатор"),
        # ("Касиния Лисинская", "Спецпроекты"),
        # ("Александр Лоскутников", "Медиа"),
        # ("Милана Луговцова", "Организатор"),
        # ("Даня Макагонов", "Техдир"),
        # ("Ирина Мамонова", "Копирайтер\nкреатива"),
        # ("Ксюша Мартынова", "Организатор"),
        # ("Таня Миронова", "Фестивалка"),
        # ("Настя Мищенко", "Дизайнер"),
        # ("Марина Можаева", "Ведущая"),
        # ("Илья Мокшин", "Организатор"),
        # ("Мария Морозова", "Организатор"),
        # ("Егор Нискин", "Фестивалка"),
        # ("Полина Оленникова", "МЗ"),
        # ("Катя Полевая", "Организатор"),
        # ("Даня Пустынников", "Организатор"),
        # ("София Резникова", "Организатор"),
        # ("Варвара Сажина", "Организатор"),
        # ("Андрей Самойленко", "Организатор"),
        # ("Антон Самохин", "Ведущий"),
        # ("Виктория Севастьянова", "Организатор"),
        # ("Кристина Семенова", "Организатор"),
        # ("Лиза Сергеева", "Организатор"),
        # ("Рома Синицын", "Главсайт"),
        # ("Лис Сотникова", "Главмедиа"),
        # ("Дима Стельмухов", "Организатор"),
        # ("Лианна Тадевосян", "Ответственная\nза сцену"),
        # ("Алина Таран", "Дизайнер креатива"),
        # ("Софья Цветкова", "Дизайнер"),
        # ("Лиза Чумакова", "Главдизайнер"),
        ("Сюмбель Шарафутдинова", "Дизайнер"),
        # ("Лиза Шибаева", "Ответственная\nза сцену"),
        # ("Ксения Шпартеева", "Организатор"),
        # ("Юля Шугурова", "Ответственная\nза большие игры"),
        # ("Алёна Яковлева", "Главный\nорганизатор"),
        # ("Софья Яковлева", "Партнерка")
    ]
    
    # Создаем бейджи для каждого человека
    for name, role in people:
        print(f"Создаю бейдж для: {name} - {role}")
        
        # Создаем имя файла на латинице
        filename = transliterate_name(name)
        
        # Заменяем пробелы на переносы строк
        display_name = name.replace(' ', '\n')
        
        # Генерируем бейдж
        badge = BadgeGenerator()
        badge.add_badge_text(role, display_name)
        
        # Сохраняем в разных форматах
        pdf_path = os.path.join(output_dir, f"{filename}.pdf")
        # png_path = os.path.join(output_dir, f"{filename}.png")
        
        badge.export_pdf(pdf_path)
        # badge.export_png(png_path)
        
        print(f"Сохранено в {pdf_path}")
    
    print("Все бейджи успешно созданы!")

if __name__ == "__main__":
    main() 